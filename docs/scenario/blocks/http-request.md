---
title: "Поддерживаем HTTP-запросы"
source_url: "https://github.com/baslie/salutebot-docs/blob/main/docs/scenario/blocks/http-request.md"
description: "Блок HTTP-запрос для чат-ботов | Разработка чат-ботов"
reading_time: 1
badges: ["SaluteBot", "Graph"]
breadcrumbs: ["SaluteBot", "Подключаем сторонние сервисы", "", "SaluteBot", "Подключаем сторонние сервисы", "Поддерживаем HTTP-запросы"]
---

<!-- Бейджи: SaluteBot | Graph -->

# Поддерживаем HTTP-запросы

Обновлено 7 июля 2025

[![](/assets/scenario/blocks/http-request/salutebot-new.png)
SaluteBot](../../overview.md)[![](/assets/scenario/blocks/http-request/Graph.png)
Graph](https://developers.sber.ru/docs/ru/va/graph/overview)

Блок **HTTP-запрос** предназначен для взаимодействия с внешними ресурсами с помощью http-запросов и сохранения ответов в переменных. Блок предлагает два перехода: для успешных и неуспешных запросов.

С помощью блока можно делать запросы со следующими http-методами:

* GET;
* PUT;
* POST;
* DELETE.

Адрес запроса может содержать [переменные](https://developers.sber.ru/docs/ru/va/graph/variables/create-variables). Переменные в адресе необходимо указывать в фигурных скобках:

```
https://example/services/api?var=${variable}
```

Все фигурные скобки в адресе, которые не относятся к переменным, необходимо заменять на набор символов `%7B` и `%7D` для левой и правой скобки соответственно.

Тело (вкладка **Body**) и заголовки (вкладка **Headers**) запроса также могут содержать переменные.

Пример переменной в теле запроса:

```
{
    "age": $age,
    "name": "$Name"
}
```

При добавлении переменных в объект JSON учитывайте тип данных в переменной.

Например, переменная `$age` указана без кавычек, потому что содержит число, а переменная `$name` — в кавычках, потому что содержит данные строкового типа.

Пример переменной в заголовке запроса:

```
Authorization: Token $Password
```

Для передачи токенов в заголовках и параметрах запроса вы можете использовать переменные созданные при [добавлении собственных токенов](../token-management.md).

Переключатель **Использование сертификатов** позволяет указать переменные, которые содержат сертификат и ключ, необходимые для аутентификации http-запроса. Сертификат и ключ [добавляются в разделе **Токены**](../token-management.md).

Для сертификатов поддерживается только формат [pkcs8](https://en.wikipedia.org/wiki/PKCS_8) .

Если у сертификата формат `rsa`, его можно сконвертировать в формат `pem` с помощью библиотеки [openssl](https://docs.openssl.org/master/man1/openssl-pkcs8/) :

`openssl rsa -in <path-to-key-file> -outform pem -out <path-to-pem-file>`,

а затем получившийся ключ сконвертировать в формат `pkcs8`:

`openssl pkcs8 -topk8 -nocrypt -in xxx.key -out xxx_PKCS8.key`.

Тело запроса может содержать данные в любом формате: JSON, XML, произвольный текст.

Ответ стороннего сервиса, представленный в формате XML или в виде валидного JSON-объекта, автоматически преобразуется в объект JavaScript. Ответ сохраняется в системной переменной [`$httpResponse`](https://developers.sber.ru/docs/ru/va/graph/variables/create-variables). К полям таких ответов можно получить доступ с помощью точки:

```
$httpResponse.fieldName
```

Ответы, представленные в других форматах, сохраняются в `$httpResponse` в виде необработанной строки.

Код ответа сохраняется в системной переменной `$httpStatus`.

Заметили ошибку?

Выделите текст и нажмите `Ctrl` + `Enter`, чтобы сообщить нам о ней
