---
title: "Добавляем динамические кнопки"
source_url: "https://github.com/baslie/salutebot-docs/blob/main/data/docs_md/salutebot/scenario/blocks/dynamic-buttons.md"
description: "Документация для разработчиков | Разработка чат-ботов"
reading_time: 2
badges: ["SaluteBot", "Graph"]
breadcrumbs: ["SaluteBot", "Настраиваем дизайн чат-бота", "", "SaluteBot", "Настраиваем дизайн чат-бота", "Добавляем динамические кнопки"]
toc:
  - title: "Типы массивов"
    level: 2
    id: "tipy-massivov"
  - title: "Поля блока"
    level: 2
    id: "polya-bloka"
---

<!-- Бейджи: SaluteBot | Graph -->

# Добавляем динамические кнопки

Содержание раздела

* [Типы массивов](#типы-массивов)
* [Поля блока](#поля-блока)

# Добавляем динамические кнопки

Обновлено 23 января 2024

[![](/assets/salutebot/scenario/blocks/dynamic-buttons/salutebot-new.png)
SaluteBot](../../overview.md)[![](/assets/salutebot/scenario/blocks/dynamic-buttons/Graph.png)
Graph](https://developers.sber.ru/docs/ru/va/graph/overview)

С помощью блока **Кнопки** возможно добавить в чат с пользователем динамические кнопки. Для этого выберите в форме создания блока опцию **Со ссылкой**.

Блок позволяет:

* преобразовать массивы данных в список кнопок, которые будут отображены пользователю в виде подсказок;
* сохранить информацию об элементе массива, который выбрал пользователь.

Доступны два перехода:

* **Следующий шаг**. Переход пользователя дальше после выбора кнопок и завершения работы блока.
* **Назад**. Переход пользователя назад, если он не готов выбрать ничего из предложенного списка кнопок.

Для работы с массивом данных его необходимо сохранить в переменную.

## Типы массивов

Блок может работать с двумя типами массивов:

* **Простой массив** - массив, состоящий из текстовых данных, например:

```
["name1", "name2", "name3"]
```

* **Массив объектов** - массив, состоящий из элементов с одинаковым набором полей, например:

```
[
    {
        "id": "1",
        "name": "name1"
    },
    {
        "id": "2",
        "name": "name2"
    },
    {
        "id": "3",
        "name": "name3"
    }
]
```

## Поля блока

Блок содержит следующие поля:

* Поле **Массив входных данных**. Здесь указывается название переменной, содержащей массив, из которого пользователю будут показаны кнопки.
* Отметка **Это массив объектов**. Устанавливается при работе с массивом объектов, требует заполнения дополнительных полей **Параметры объектов массива**:

  + **Поле с именем кнопки**. Укажите название поля, значения которого из каждого элемента массива будут выводиться пользователю в чат в виде кнопок (подсказок).
  + **Возвращаемые данные**. Укажите названия полей элементов массива, значения которых должны быть сохранены в выходной переменной после выбора из предложенных кнопок.



  В случае простого массива названиями кнопок будут служить все текстовые данные из массива, а в качестве возвращаемых данных – текст выбранной кнопки.
* Поле **Переменная для вывода результата**. Укажите название переменной, в которую должны быть сохранены возвращаемые данные.
* Поле **Текст перед кнопками**. Укажите в произвольной форме текст, который будет отображен пользователю перед каждым выводом кнопок.
* Раздел **Дополнительные настройки**. Настройка расширенных возможностей динамических кнопок:

  + Поле **Выводить за раз**. В поле можно указать ограничение на количество кнопок для активации постраничного вывода или установить отметку **Все сразу**, чтобы выводить без ограничений. При установке ограничения пользователю будут выведены дополнительные кнопки для перехода по страницам.



  По умолчанию установлена отметка **Все сразу**. При большом размере массива для комфорта пользователя рекомендуется установить ограничение. В некоторых каналах имеются ограничения на количество выводимых кнопок, рекомендуется учитывать их при настройке блока.

  + Поле **Должно быть выбрано**. Поле позволяет настроить выбор нескольких кнопок. При этом в переменную для вывода результатов будет сохранен массив выбранных элементов.



  По умолчанию установлено значение 1. В случае установки иного количества кнопок, доступных для выбора, при выборе последней кнопки блок завершит свою работу.

  Если количество необходимых для выбора кнопок может быть разным, то нужно установить галочку **Без ограничений**. В таком случае, наряду с кнопками массива, пользователю будет выведена кнопка **Готово**, после нажатия на которую блок запомнит все выбранные кнопки и завершит свою работу.
* Раздел **Настройки кнопок управления**. Дополнительная кастомизация кнопок управления.

  + Поле **Возврат назад** - для переименования названия кнопки **Назад** для выхода из блока.
  + Поле **К следующему блоку вариантов** - для переименования кнопки для перехода к следующей странице при постраничном выводе.
  + Поле **К предыдущему блоку вариантов** - для переименования кнопки для перехода к предыдущей странице при постраничном выводе.
  + Поле **Подтверждение выбора** - для переименования кнопки **Готово**, которая отображается пользователю при выборе нескольких кнопок без ограничений.
  + Поле **Отметка нажатой кнопки** - для изменения метки, указывающей, что кнопка выбрана.

Заметили ошибку?

Выделите текст и нажмите `Ctrl` + `Enter`, чтобы сообщить нам о ней
