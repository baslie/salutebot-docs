---
title: "Отправляем файлы пользователю"
source_url: "https://github.com/baslie/salutebot-docs/blob/main/data/docs_md/salutebot/scenario/blocks/upload-file-scenario.md"
description: "Документация для разработчиков | Разработка чат-ботов"
reading_time: 1
badges: ["SaluteBot", "Graph", "Code"]
breadcrumbs: ["SaluteBot", "Работаем с данными пользователей", "", "SaluteBot", "Работаем с данными пользователей", "Отправляем файлы пользователю"]
---

<!-- Бейджи: SaluteBot | Graph | Code -->

# Отправляем файлы пользователю

Обновлено 4 апреля 2025

[![](/assets/salutebot/scenario/blocks/upload-file-scenario/salutebot-new.png)
SaluteBot](../../overview.md)[![](/assets/salutebot/scenario/blocks/upload-file-scenario/Graph.png)
Graph](https://developers.sber.ru/docs/ru/va/graph/overview)[![](/assets/salutebot/scenario/blocks/upload-file-scenario/Code.png)
Code](https://developers.sber.ru/docs/ru/va/code/overview)

Блок **Отправка файла** позволяет отправить пользователю файл определенного формата.

Graph
Code

Для добавления возможности отправки файла в Graph:

1. Откройте имеющийся сценарий.
2. Добавьте в сценарий экран, в котором должен выполняться переход.
3. Добавьте блок **Отправка файлов**.

В настройках возможно:

* Загрузить файл: позволяет загрузить локальный файл или перетащите его с вашего компьютера. В результате файл появится в списке добавленных вложений.
* Добавить ссылку на файл: позволяет передать файл загруженный в вашем стороннем хранилище.
* Добавить переменную со ссылкой на файл: позволяет динамически сформировать url-ссылку на файл. В этом случае в переменной должна быть указана прямая ссылка на файл.

4. Нажмите **Создать блок**.

Для загрузки и отправки пользователю доступны файлы следующих форматов:

* документы: pdf, doc (docx), xls (xlsx), csv, ppt (pptx), zip, rar, html, epub, fb2, key, pages, rtf;
* изображения: jpg, png, bmp, gif, svg;
* аудио: wav, mp3, mp4, ogg, acc;
* видео: mp4, webm, ogg, avi, mov.

Размер файла не должен превышать 10 Mb. Максимальная длина имени файла - 250 символов. Размер загруженного контента не должен превышать 200 Мб.

Отправка исполняемых файлов невозможна.

Обратите внимание: при интеграции Jivo в подключенный канал Telegram доступна отправка файлов следующих форматов: gif, pdf и zip.

Для добавления возможности отправки файла в Code:

1. Откройте имеющийся сценарий.
2. Добавьте в сценарий экран, в котором должен выполняться переход.
3. Добавьте команду отправки файла.

Для формирования и отправки файла необходимо указать параметры:

* `url` - тип string, обязательное поле - прямая ссылка на скачивание файла;
* `name` - тип string, необязательное поле - название файла, при этом если пользователь не указал имя файла, то оно будет указано по умолчанию из файла.

Примеры использования в сценарии:

* типа `reply file`

```
script:
    $response.replies = $response.replies || [];
    $response.replies.push({
        "type": "file",
        "url": "https://site.ru/test.pdf",
        "name": "test.pdf",
     });
```

* тэга `file`

```
state: Sendfile
    file: https://site.ru/test.pdf || name = test.pdf // файл с названием
```

* функции `$reactions.file`

```
script:
    $reactions.file({url: 'https://site.ru/test.pdf', name: 'test.pdf'});
```

Если вам необходимо где-то разместить файлы для сценария, можно загрузить их в разделе **Контент**.

Для загрузки и отправки пользователю доступны файлы следующих форматов:

* документы: pdf, doc (docx), xls (xlsx), csv, ppt (pptx), zip, rar, html, epub, fb2, key, pages, rtf;
* изображения: jpg, png, bmp, gif, svg;
* аудио: wav, mp3, mp4, ogg, acc;
* видео: mp4, webm, ogg, avi, mov.

В случае, если файл загружается в раздел **Контент** в Code существует ряд ограничений:

* размер файла не должен превышать 10 Mb;
* отправка исполняемых файлов невозможна.

Возможна отправка локального файла (одного файла с компьютера пользователя) или динамического файла (указывается внешняя ссылка на требуемый файл).

Общий размер сохраненных файлов в одном проекте не может превышать 250 Mb.

Заметили ошибку?

Выделите текст и нажмите `Ctrl` + `Enter`, чтобы сообщить нам о ней
