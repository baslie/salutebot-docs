---
title: "Пользовательские сущности"
source_url: "https://github.com/baslie/salutebot-docs/blob/main/data/docs_md/salutebot/bot-development/entities/custom-entities.md"
description: "Пользовательские сущности | Разработка чат-ботов"
reading_time: 1
badges: ["SaluteBot", "Graph"]
toc:
  - title: "Как создать свою сущность"
    level: 2
    id: "kak-sozdat-svoyu-sushnost"
  - title: "Как создать справочник"
    level: 2
    id: "kak-sozdat-spravochnik"
  - title: "Сущности справочника"
    level: 2
    id: "sushnosti-spravochnika"
  - title: "Загрузка справочника"
    level: 2
    id: "zagruzka-spravochnika"
---

<!-- Бейджи: SaluteBot | Graph -->

# Пользовательские сущности

Содержание раздела

* [Как создать свою сущность](#как-создать-свою-сущность)
* [Как создать справочник](#как-создать-справочник)
* [Сущности справочника](#сущности-справочника)
* [Загрузка справочника](#загрузка-справочника)

# Пользовательские сущности

Обновлено 25 июня 2024

[![](/assets/salutebot/bot-development/entities/custom-entities/salutebot-new.png)
SaluteBot](../../overview.md)[![](/assets/salutebot/bot-development/entities/custom-entities/Graph.png)
Graph](https://developers.sber.ru/docs/ru/va/graph/overview)

Наряду со стандартными сущностями и справочниками, Graph дает вам возможность создавать свои собственные справочники, чтобы чат-бот мог извлекать из фразы пользователя сущности из вашей базы данных.

## Как создать свою сущность

В Graph вы можете не только использовать уже имеющиеся сущности, но и создавать свои. Для этого в меню редактора чат-бота есть пункт **Сущности**. При клике откроется страница, где вы можете создавать и управлять сущностями, которые затем можно использовать в любых фразах в сценарии чат-бота.

## Как создать справочник

Все управление пользовательскими справочниками происходит на вкладке **Сущности** в редакторе чат-бота. Вкладка содержит список системных справочников и кнопку **Создать справочник**.

При нажатии на **Создать справочник**, открывается окно, в котором необходимо указать название нового справочника.

Название справочника может содержать только латинские буквы, цифры и знак подчеркивания.

## Сущности справочника

Каждая сущность — это идентификатор записи в вашем справочнике. Для каждой записи нужно указать хотя бы один синоним на естественном языке, чтобы чат-бот понимал, какие именно слова пользователя относятся к этой записи.

Синонимы нужно указывать в словарной форме слова (именительный падеж единственного числа). Чат-бот будет автоматически понимать эти синонимы в других формах во время работы.

## Загрузка справочника

Вы можете загрузить список сущностей и их синонимов, описанных в CSV или XLS-файле.

Для этого:

1. Откройте проект Graph.
2. Перейдите в раздел **Сущности**.
3. Создайте новый справочник.

   Вы также можете выбрать уже существующий пользовательский справочник.
4. Откройте справочник, в который нужно загрузить список сущностей, и нажмите кнопку **Загрузить справочник**.
5. Прикрепите CSV или XLS-файл со списком сущностей и нажмите кнопку **Загрузить**.

   Максимальный размер файла — 1 Мб.

Загруженный список сущностей и их синонимов отобразится в справочнике.

При включении опции **Добавлять значения сущностей в формате JSON** вы сможете загрузить справочник, содержащий не только синонимы сущностей, но и их значения в JSON-формате. Это позволит использовать поля из значений сущностей в сценарии чат-бота.

При использовании значений сущностей в формате JSON строки нужно записывать следующим образом:

* В строке для сущности сначала указывается JSON со значениями сущности, а затем синонимы.
* Если вы загружаете справочник в формате CSV, синонимы должны отделяться от объекта JSON точкой с запятой, а сами синонимы между собой отделяются запятыми.

Пример строки CSV-файла:

```
{"name":"macbook","full":"MacBook Pro 13"}; mackbook, mac, mac book, macos
```

В сценарии можно обратиться к конкретному полю из значения сущности, указав его как `$<имя справочника>.<имя поля>`.

Заметили ошибку?

Выделите текст и нажмите `Ctrl` + `Enter`, чтобы сообщить нам о ней
